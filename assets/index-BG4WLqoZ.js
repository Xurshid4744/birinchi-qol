import{c as g,j as a,u as l,a as m,R as j,C as y,b as i,L as N,f as x}from"./index-DgMNY-DU.js";import{u as v}from"./user-DsPz-gYL.js";import{M as u}from"./common-Dp1LxMKk.js";/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],k=g("search",S);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],b=g("shopping-basket",f),_=()=>a.jsxs("div",{className:"search-input",tabIndex:1,children:[a.jsx(k,{}),a.jsx("input",{type:"text",placeholder:"Mahsulotlarni qidirish...",className:"input"})]}),M=()=>{const s=l(r=>r.categorys),t=l(r=>r.activeCategory),c=l(r=>r.setActiveCategory);return a.jsx("div",{className:"categorys",children:s==null?void 0:s.map(r=>a.jsx("span",{className:"category","data-active":(t==null?void 0:t.id)==(r==null?void 0:r.id),onClick:()=>c(r),children:r==null?void 0:r.title},r==null?void 0:r.id))})},A=()=>{const s=l(e=>e.categorys),t=m(e=>e.products),c=l(e=>e.activeCategory),r=j.useMemo(()=>{const e=new Map;return t.forEach(n=>{var o,h,p;e.has((o=JSON.parse(n.category))==null?void 0:o.id)||e.set((h=JSON.parse(n.category))==null?void 0:h.id,[]),e.get((p=JSON.parse(n.category))==null?void 0:p.id).push(n)}),e},[t]),d=j.useMemo(()=>{if(!(c!=null&&c.id))return s;const e=s.filter(o=>o.id!==c.id),n=s.find(o=>o.id===c.id);return n?[n,...e]:s},[s,c]);return a.jsx("div",{className:"sorted-categories",children:d==null?void 0:d.map(e=>a.jsx(y,{title:e==null?void 0:e.title,products:r.get(e==null?void 0:e.id)||[]},e==null?void 0:e.id))})},C=()=>{i(c=>c.orders);const s=i(c=>c.getTotalSum),t=s()>=u;return a.jsx("div",{className:"menu-bar",children:a.jsxs(N,{to:"/cart",className:"menu-bar-link",children:[a.jsx("span",{className:"menu-bar-icon",children:a.jsx(b,{})}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("p",{className:"menu-bar-total-amount",children:[x(s())||0," UZS"]}),!t&&a.jsxs("p",{className:"menu-bar-min-amount",children:["Min. buyurtma ",x(u)," UZS"]})]})]})})},T=()=>{i(t=>t.orders);const s=v(t=>t.user);return a.jsxs("div",{className:"container home",children:[a.jsx(_,{}),a.jsx(M,{}),a.jsx("div",{className:"home-sorted-categorys-group",children:a.jsx(A,{})}),a.jsx(C,{}),a.jsx("h1",{children:"ðŸ‘¤ Telegram Foydalanuvchisi"}),a.jsxs("ul",{children:[a.jsxs("li",{children:["ID: ",s==null?void 0:s.id]}),a.jsxs("li",{children:["Ism: ",s==null?void 0:s.first_name]}),(s==null?void 0:s.last_name)&&a.jsxs("li",{children:["Familiya: ",s==null?void 0:s.last_name]}),(s==null?void 0:s.username)&&a.jsxs("li",{children:["Username: @",s==null?void 0:s.username]}),a.jsxs("li",{children:["Tili: ",s==null?void 0:s.language_code]}),(s==null?void 0:s.photo_url)&&a.jsxs("li",{children:["Avatar:"," ",a.jsx("img",{src:s==null?void 0:s.photo_url,width:"80",height:"80",alt:"avatar"})]})]})]})};export{T as default};
