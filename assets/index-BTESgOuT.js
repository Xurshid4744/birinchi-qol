import{c as y,j as a,u as d,a as g,R as h,C as m,b as i,L as N,f as j,d as k}from"./index-J-VecIy0.js";import"./user-WxwJggXT.js";import{M as x}from"./common-Dp1LxMKk.js";/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],b=y("search",S);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],f=y("shopping-basket",v),M=()=>a.jsxs("div",{className:"search-input",tabIndex:1,children:[a.jsx(b,{}),a.jsx("input",{type:"text",placeholder:"Mahsulotlarni qidirish...",className:"input"})]}),A=()=>{const r=d(e=>e.categorys),c=d(e=>e.activeCategory),t=d(e=>e.setActiveCategory);return a.jsx("div",{className:"categorys",children:r==null?void 0:r.map(e=>a.jsx("span",{className:"category","data-active":(c==null?void 0:c.id)==(e==null?void 0:e.id),onClick:()=>t(e),children:e==null?void 0:e.title},e==null?void 0:e.id))})},C=()=>{const r=d(s=>s.categorys),c=g(s=>s.products),t=d(s=>s.activeCategory),e=h.useMemo(()=>{const s=new Map;return c.forEach(o=>{var n,u,p;s.has((n=JSON.parse(o.category))==null?void 0:n.id)||s.set((u=JSON.parse(o.category))==null?void 0:u.id,[]),s.get((p=JSON.parse(o.category))==null?void 0:p.id).push(o)}),s},[c]),l=h.useMemo(()=>{if(!(t!=null&&t.id))return r;const s=r.filter(n=>n.id!==t.id),o=r.find(n=>n.id===t.id);return o?[o,...s]:r},[r,t]);return a.jsx("div",{className:"sorted-categories",children:l==null?void 0:l.map(s=>a.jsx(m,{title:s==null?void 0:s.title,products:e.get(s==null?void 0:s.id)||[]},s==null?void 0:s.id))})},O=()=>{i(t=>t.orders);const r=i(t=>t.getTotalSum),c=r()>=x;return a.jsx("div",{className:"menu-bar",children:a.jsxs(N,{to:"/cart",className:"menu-bar-link",children:[a.jsx("span",{className:"menu-bar-icon",children:a.jsx(f,{})}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("p",{className:"menu-bar-total-amount",children:[j(r())||0," UZS"]}),!c&&a.jsxs("p",{className:"menu-bar-min-amount",children:["Min. buyurtma ",j(x)," UZS"]})]})]})})},E=()=>(i(r=>r.orders),k(),a.jsxs("div",{className:"container home",children:[a.jsx(M,{}),a.jsx(A,{}),a.jsx("div",{className:"home-sorted-categorys-group",children:a.jsx(C,{})}),a.jsx(O,{})]}));export{E as default};
