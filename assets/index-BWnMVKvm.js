import{c as y,j as a,u as d,a as g,R as h,C as N,b as p,L as m,f as j}from"./index-B4qbe_2x.js";import{M as x}from"./common-BAcIfx7b.js";/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S=y("search",k);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],v=y("shopping-basket",b),f=()=>a.jsxs("div",{className:"search-input",tabIndex:1,children:[a.jsx(S,{}),a.jsx("input",{type:"text",placeholder:"Mahsulotlarni qidirish...",className:"input"})]}),M=()=>{const r=d(e=>e.categorys),t=d(e=>e.activeCategory),c=d(e=>e.setActiveCategory);return a.jsx("div",{className:"categorys",children:r==null?void 0:r.map(e=>a.jsx("span",{className:"category","data-active":(t==null?void 0:t.id)==(e==null?void 0:e.id),onClick:()=>c(e),children:e==null?void 0:e.title},e==null?void 0:e.id))})},C=()=>{const r=d(s=>s.categorys),t=g(s=>s.products),c=d(s=>s.activeCategory),e=h.useMemo(()=>{const s=new Map;return t.forEach(o=>{var n,i,u;s.has((n=JSON.parse(o.category))==null?void 0:n.id)||s.set((i=JSON.parse(o.category))==null?void 0:i.id,[]),s.get((u=JSON.parse(o.category))==null?void 0:u.id).push(o)}),s},[t]),l=h.useMemo(()=>{if(!(c!=null&&c.id))return r;const s=r.filter(n=>n.id!==c.id),o=r.find(n=>n.id===c.id);return o?[o,...s]:r},[r,c]);return a.jsx("div",{className:"sorted-categories",children:l==null?void 0:l.map(s=>a.jsx(N,{title:s==null?void 0:s.title,products:e.get(s==null?void 0:s.id)||[]},s==null?void 0:s.id))})},A=()=>{p(c=>c.orders);const r=p(c=>c.getTotalSum),t=r()>=x;return a.jsx("div",{className:"menu-bar",children:a.jsxs(m,{to:"/cart",className:"menu-bar-link",children:[a.jsx("span",{className:"menu-bar-icon",children:a.jsx(v,{})}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("p",{className:"menu-bar-total-amount",children:[j(r())||0," UZS"]}),!t&&a.jsxs("p",{className:"menu-bar-min-amount",children:["Min. buyurtma ",j(x)," UZS"]})]})]})})},R=()=>a.jsxs("div",{className:"container home",children:[a.jsx(f,{}),a.jsx(M,{}),a.jsx("div",{className:"home-sorted-categorys-group",children:a.jsx(C,{})}),a.jsx(A,{})]});export{R as default};
