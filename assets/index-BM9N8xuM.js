import{c as u,j as a,u as i,a as y,R as j,C as m,b as d,L as N,f as x,d as v}from"./index-grIT1sxX.js";import{M as g}from"./common-Dp1LxMKk.js";/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],k=u("search",S);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],f=u("shopping-basket",b),_=()=>a.jsxs("div",{className:"search-input",tabIndex:1,children:[a.jsx(k,{}),a.jsx("input",{type:"text",placeholder:"Mahsulotlarni qidirish...",className:"input"})]}),M=()=>{const s=i(c=>c.categorys),n=i(c=>c.activeCategory),t=i(c=>c.setActiveCategory);return a.jsx("div",{className:"categorys",children:s==null?void 0:s.map(c=>a.jsx("span",{className:"category","data-active":(n==null?void 0:n.id)==(c==null?void 0:c.id),onClick:()=>t(c),children:c==null?void 0:c.title},c==null?void 0:c.id))})},T=()=>{const s=i(e=>e.categorys),n=y(e=>e.products),t=i(e=>e.activeCategory),c=j.useMemo(()=>{const e=new Map;return n.forEach(r=>{var o,h,p;e.has((o=JSON.parse(r.category))==null?void 0:o.id)||e.set((h=JSON.parse(r.category))==null?void 0:h.id,[]),e.get((p=JSON.parse(r.category))==null?void 0:p.id).push(r)}),e},[n]),l=j.useMemo(()=>{if(!(t!=null&&t.id))return s;const e=s.filter(o=>o.id!==t.id),r=s.find(o=>o.id===t.id);return r?[r,...e]:s},[s,t]);return a.jsx("div",{className:"sorted-categories",children:l==null?void 0:l.map(e=>a.jsx(m,{title:e==null?void 0:e.title,products:c.get(e==null?void 0:e.id)||[]},e==null?void 0:e.id))})},A=()=>{d(t=>t.orders);const s=d(t=>t.getTotalSum),n=s()>=g;return a.jsx("div",{className:"menu-bar",children:a.jsxs(N,{to:"/cart",className:"menu-bar-link",children:[a.jsx("span",{className:"menu-bar-icon",children:a.jsx(f,{})}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("p",{className:"menu-bar-total-amount",children:[x(s())||0," UZS"]}),!n&&a.jsxs("p",{className:"menu-bar-min-amount",children:["Min. buyurtma ",x(g)," UZS"]})]})]})})},I=()=>{d(n=>n.orders);const s=v(n=>n.user);return a.jsxs("div",{className:"container home",children:[a.jsx(_,{}),a.jsx(M,{}),a.jsx("div",{className:"home-sorted-categorys-group",children:a.jsx(T,{})}),a.jsx(A,{}),a.jsx("h1",{children:"ðŸ‘¤ Telegram Foydalanuvchisi"}),a.jsxs("ul",{children:[a.jsxs("li",{children:["ID: ",s==null?void 0:s.id]}),a.jsxs("li",{children:["Ism: ",s==null?void 0:s.first_name]}),(s==null?void 0:s.last_name)&&a.jsxs("li",{children:["Familiya: ",s==null?void 0:s.last_name]}),(s==null?void 0:s.username)&&a.jsxs("li",{children:["Username: @",s==null?void 0:s.username]}),a.jsxs("li",{children:["Tili: ",s==null?void 0:s.language_code]}),a.jsxs("li",{children:["Tili: ",s==null?void 0:s.address]}),a.jsxs("li",{children:["Tili: ",s==null?void 0:s.phone]}),a.jsxs("li",{children:["Tili: ",s==null?void 0:s.account]}),(s==null?void 0:s.photo_url)&&a.jsxs("li",{children:["Avatar:"," ",a.jsx("img",{src:s==null?void 0:s.photo_url,width:"80",height:"80",alt:"avatar"})]})]})]})};export{I as default};
