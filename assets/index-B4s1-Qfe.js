import{j as s,d,b as h,e as r,f as n,R as x,g as u,r as j}from"./index-CeAVAj7-.js";import{M as o}from"./index-Bssfm4Rb.js";import{D as p}from"./common-Dp1LxMKk.js";const y=({orderForm:a,setOrderForm:e})=>s.jsxs("div",{className:"checkout-order-type",children:[s.jsx("h6",{className:"checkout-order-type-title",children:"Buyurtma turi"}),s.jsxs("div",{className:"checkout-order-type-select","data-select":(a==null?void 0:a.orderType)===1,onClick:()=>e({...a,orderType:1}),children:[s.jsx("p",{children:"ðŸšš Yetkazib berish"}),s.jsx("span",{children:"Buyurtmangizni o'zimiz yetkazib beramiz."})]}),s.jsxs("div",{className:"checkout-order-type-select","data-select":(a==null?void 0:a.orderType)===2,onClick:()=>e({...a,orderType:2}),children:[s.jsx("p",{children:"ðŸƒâ€â™‚ï¸ Olib ketish"}),s.jsx("span",{children:"O'zingiz olib ketishingiz mumkin."})]})]}),k=({orderForm:a,setOrderForm:e})=>s.jsxs("div",{className:"checkout-ransom-type",children:[s.jsx("h6",{className:"checkout-ransom-type-title",children:"To'lov turi"}),s.jsx("div",{className:"checkout-ransom-type-select","data-select":(a==null?void 0:a.ransomType)===1,onClick:()=>e({...a,ransomType:1}),children:s.jsx("p",{children:"ðŸ’µ Naqt pul bila to'lash"})}),s.jsx("div",{className:"checkout-ransom-type-select","data-select":(a==null?void 0:a.ransomType)===2,onClick:()=>e({...a,ransomType:2}),children:s.jsx("p",{children:"ðŸ’³ Karta bilan to'lash"})})]}),g=({orderForm:a})=>{const e=d(t=>t.user),l=h(t=>t.getTotalSum),i=`${(e==null?void 0:e.first_name)&&(e==null?void 0:e.first_name)||""} ${(e==null?void 0:e.last_name)&&(e==null?void 0:e.last_name)||""}`.trim(),c=r(t=>t.debts);return s.jsxs("div",{className:"checkout-all-info",children:[s.jsx("h6",{className:"checkout-all-info-title",children:"Umumiy"}),s.jsxs("div",{children:[s.jsxs("div",{class:"dot-between",children:[s.jsx("p",{class:"left",children:"ðŸ‘¤ Buyurtmachi:"}),s.jsx("p",{class:"right",children:i.length===0?"N/A":i})]}),s.jsxs("div",{class:"dot-between",children:[s.jsx("p",{class:"left",children:"ðŸ›ï¸ Buyurtmalarim:"}),s.jsxs("p",{class:"right",children:[n(l())," UZS"]})]}),s.jsxs("div",{class:"dot-between",children:[s.jsx("p",{class:"left",children:"ðŸšš Yetkazib berish:"}),s.jsxs("p",{class:"right",children:[(a==null?void 0:a.orderType)==1?n(p):0," ","UZS"]})]}),s.jsxs("div",{class:"dot-between",children:[s.jsx("p",{class:"left",children:"ðŸ’° Qarzdorlik:"}),s.jsx("p",{class:"right",children:c?`${n(c==null?void 0:c.amount)} UZS ( ${c==null?void 0:c.reason} )`:"0 UZS"})]}),s.jsxs("div",{class:"dot-between",children:[s.jsx("p",{class:"left",children:"ðŸª™ Jami summa:"}),s.jsx("p",{class:"right",children:(a==null?void 0:a.orderType)==1?`${n(p+l()+(c?c==null?void 0:c.amout:0))} UZS`:`${n(l()+(c?c==null?void 0:c.amout:0))} UZS`})]})]})]})},N=()=>{const a=h(e=>e.orders);return s.jsxs("div",{className:"checkout-order-list",children:[s.jsx("h6",{className:"checkout-order-list-title",children:"Buyurtma maxsulotlari"}),s.jsx("div",{className:"orders-list",children:a==null?void 0:a.map((e,l)=>s.jsxs("div",{className:"checkout-page-order",children:[s.jsxs("p",{className:"ellipsis",children:[e==null?void 0:e.name," ",(e==null?void 0:e.tag)&&s.jsxs("span",{className:"tag",children:["( ",e==null?void 0:e.tag," )"]})]}),s.jsx("p",{className:"order-type",children:e==null?void 0:e.type}),s.jsxs("p",{className:"order-price",children:[s.jsx("p",{children:e==null?void 0:e.count}),s.jsxs("p",{children:["x ",n(e==null?void 0:e.price)]})]})]}))})]})},v=x.memo(N),b=()=>{const a=h(t=>t.clearOrders),e=u(),[l,i]=j.useState({orderType:1,ransomType:1}),c=()=>{e("/"),a(),window.Telegram&&Telegram.WebApp?Telegram.WebApp.close():alert("Telegram Web App topilmadi")};return s.jsxs("div",{className:"checkout-page ",children:[s.jsx(o,{to:"/cart",title:"Buyurtmani rasmiylashtirish"}),s.jsxs("div",{className:"checkout-page-content",children:[s.jsx(v,{}),s.jsx(y,{orderForm:l,setOrderForm:i}),s.jsx(k,{orderForm:l,setOrderForm:i}),s.jsx(g,{orderForm:l}),s.jsx("div",{className:"checkout-page-btn",onClick:c,children:"Buyurtmani yakunlash"})]})]})};export{b as default};
